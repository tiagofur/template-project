# ==============================================
# PRODUCTION ENVIRONMENT
# ==============================================
# Production environment configuration
# All secrets must be managed via secure secrets management

# ==============================================
# üåç ENVIRONMENT
# ==============================================
NODE_ENV=production
APP_ENV=production
DEBUG=false
LOG_LEVEL=warn

# ==============================================
# üåê APPLICATION URLS
# ==============================================
APP_NAME=My App
APP_URL=https://myapp.com
API_BASE_URL=https://api.myapp.com/api
FRONTEND_URL=https://myapp.com
BACKEND_URL=https://api.myapp.com

# Ports (behind reverse proxy/load balancer)
PORT=3000
FRONTEND_PORT=3000

# ==============================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ==============================================
# PostgreSQL (Production Database - Managed Service with HA)
DB_HOST=${PROD_DB_HOST}
DB_PORT=5432
DB_NAME=myapp_production
DB_USER=${PROD_DB_USER}
DB_PASSWORD=${PROD_DB_PASSWORD}
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?sslmode=require&pool_max=50

# Read Replicas (for read scaling)
DB_READ_REPLICA_URL=${PROD_DB_READ_REPLICA_URL}

# MongoDB (Production Database - Replica Set)
MONGODB_URI=${PROD_MONGODB_URI}
MONGODB_DATABASE=myapp_production
MONGODB_USERNAME=${PROD_MONGODB_USER}
MONGODB_PASSWORD=${PROD_MONGODB_PASSWORD}

# Redis Cache (Managed Redis Cluster)
REDIS_HOST=${PROD_REDIS_HOST}
REDIS_PORT=6379
REDIS_URL=rediss://${REDIS_HOST}:${REDIS_PORT}
REDIS_PASSWORD=${PROD_REDIS_PASSWORD}
REDIS_CLUSTER_ENABLED=true

# ==============================================
# üîê AUTHENTICATION & SECURITY
# ==============================================
# JWT Configuration (Production Secrets - from AWS Secrets Manager/Vault)
JWT_SECRET=${PROD_JWT_SECRET}
JWT_ACCESS_SECRET=${PROD_JWT_ACCESS_SECRET}
JWT_REFRESH_SECRET=${PROD_JWT_REFRESH_SECRET}
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Session
SESSION_SECRET=${PROD_SESSION_SECRET}
SESSION_MAX_AGE=86400000

# Encryption (256-bit key from secrets manager)
ENCRYPTION_KEY=${PROD_ENCRYPTION_KEY}

# ==============================================
# üåê CORS & SECURITY
# ==============================================
CORS_ORIGIN=https://myapp.com
ALLOWED_ORIGINS=https://myapp.com,https://api.myapp.com,https://www.myapp.com

# Rate Limiting (Strict in production)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Security Headers
HELMET_ENABLED=true
HSTS_MAX_AGE=63072000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# ==============================================
# ü§ñ AI SERVICES (Production Keys)
# ==============================================
# OpenAI
OPENAI_API_KEY=${PROD_OPENAI_API_KEY}
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_ORGANIZATION=${PROD_OPENAI_ORG}

# Anthropic Claude
ANTHROPIC_API_KEY=${PROD_ANTHROPIC_API_KEY}

# Google AI
GOOGLE_AI_API_KEY=${PROD_GOOGLE_AI_API_KEY}

# ==============================================
# üîß EXTERNAL SERVICES (Production Keys)
# ==============================================
# GitHub Integration
GITHUB_TOKEN=${PROD_GITHUB_TOKEN}
GITHUB_USERNAME=myapp-prod
GITHUB_REPO_DEFAULT=myapp-production

# OAuth Providers
GOOGLE_CLIENT_ID=${PROD_GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${PROD_GOOGLE_CLIENT_SECRET}
GOOGLE_CALLBACK_URL=https://api.myapp.com/auth/google/callback

GITHUB_CLIENT_ID=${PROD_GITHUB_CLIENT_ID}
GITHUB_CLIENT_SECRET=${PROD_GITHUB_CLIENT_SECRET}
GITHUB_CALLBACK_URL=https://api.myapp.com/auth/github/callback

FACEBOOK_CLIENT_ID=${PROD_FACEBOOK_CLIENT_ID}
FACEBOOK_CLIENT_SECRET=${PROD_FACEBOOK_CLIENT_SECRET}
FACEBOOK_CALLBACK_URL=https://api.myapp.com/auth/facebook/callback

# ==============================================
# üìß EMAIL CONFIGURATION (Production)
# ==============================================
SMTP_HOST=${PROD_SMTP_HOST}
SMTP_PORT=587
SMTP_USER=${PROD_SMTP_USER}
SMTP_PASSWORD=${PROD_SMTP_PASSWORD}
SMTP_FROM=noreply@myapp.com
EMAIL_ENABLED=true

# SendGrid (Alternative)
SENDGRID_API_KEY=${PROD_SENDGRID_API_KEY}

# ==============================================
# ‚òÅÔ∏è CLOUD STORAGE (Production)
# ==============================================
# AWS S3 (Production Bucket with CDN)
AWS_ACCESS_KEY_ID=${PROD_AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${PROD_AWS_SECRET_ACCESS_KEY}
AWS_REGION=us-east-1
AWS_S3_BUCKET=myapp-production-assets
AWS_S3_BUCKET_PRIVATE=myapp-production-private
AWS_CLOUDFRONT_DOMAIN=${PROD_CLOUDFRONT_DOMAIN}

# Supabase (Production Project)
SUPABASE_URL=${PROD_SUPABASE_URL}
SUPABASE_ANON_KEY=${PROD_SUPABASE_ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=${PROD_SUPABASE_SERVICE_KEY}

# ==============================================
# üí≥ PAYMENT PROVIDERS (Live Mode)
# ==============================================
# Stripe (Live Keys)
STRIPE_PUBLIC_KEY=${PROD_STRIPE_PUBLIC_KEY}
STRIPE_SECRET_KEY=${PROD_STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${PROD_STRIPE_WEBHOOK_SECRET}

# PayPal
PAYPAL_CLIENT_ID=${PROD_PAYPAL_CLIENT_ID}
PAYPAL_CLIENT_SECRET=${PROD_PAYPAL_CLIENT_SECRET}
PAYPAL_MODE=live

# ==============================================
# üìä MONITORING & ANALYTICS (Production)
# ==============================================
# Sentry (Production Environment)
SENTRY_DSN=${PROD_SENTRY_DSN}
SENTRY_ENVIRONMENT=production
SENTRY_ENABLED=true
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.05

# Analytics
ANALYTICS_ID=${PROD_ANALYTICS_ID}
ANALYTICS_ENABLED=true
GOOGLE_ANALYTICS_ID=${PROD_GA_ID}

# Application Performance Monitoring
APM_ENABLED=true
NEW_RELIC_LICENSE_KEY=${PROD_NEW_RELIC_KEY}
NEW_RELIC_APP_NAME=MyApp Production

# DataDog
DATADOG_API_KEY=${PROD_DATADOG_API_KEY}
DATADOG_APP_KEY=${PROD_DATADOG_APP_KEY}
DATADOG_SITE=datadoghq.com

# ==============================================
# üé≠ FEATURE FLAGS
# ==============================================
FEATURE_NEW_UI=false
FEATURE_BETA_FEATURES=false
FEATURE_EXPERIMENTAL=false
FEATURE_ANALYTICS=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_WEBSOCKETS=true
FEATURE_PAYMENT_PROCESSING=true

# ==============================================
# üîÑ CACHE CONFIGURATION
# ==============================================
CACHE_ENABLED=true
CACHE_TTL=7200
CACHE_PREFIX=prod:
CACHE_COMPRESSION=true

# ==============================================
# üìù LOGGING
# ==============================================
LOG_FILE=/var/log/myapp/production.log
LOG_FORMAT=json
LOG_SQL_QUERIES=false
LOG_HTTP_REQUESTS=true
LOG_ROTATION_MAX_SIZE=100m
LOG_ROTATION_MAX_FILES=10

# Centralized Logging
CLOUDWATCH_LOG_GROUP=/aws/myapp/production
CLOUDWATCH_LOG_STREAM=application

# ==============================================
# üöÄ BUILD & DEPLOYMENT
# ==============================================
BUILD_PATH=dist
SOURCE_MAP=false
MINIFY=true

# ==============================================
# üåç LOCALIZATION
# ==============================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,pt,fr,de
TIMEZONE=UTC

# ==============================================
# üìä PERFORMANCE
# ==============================================
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000
CONNECTION_POOL_SIZE=50
CONNECTION_POOL_IDLE_TIMEOUT=30000

# Database Connection Pooling
DB_POOL_MIN=10
DB_POOL_MAX=50
DB_POOL_ACQUIRE_TIMEOUT=30000

# ==============================================
# üîß DEPLOYMENT CONFIGURATION
# ==============================================
# Container/Orchestration (Kubernetes/ECS)
CONTAINER_REGISTRY=${PROD_CONTAINER_REGISTRY}
IMAGE_TAG=production-${BUILD_NUMBER}

# Health Checks
HEALTH_CHECK_INTERVAL=30000
READINESS_PROBE_PATH=/api/health
LIVENESS_PROBE_PATH=/api/health/live
STARTUP_PROBE_PATH=/api/health/startup

# Auto-scaling
MIN_REPLICAS=3
MAX_REPLICAS=20
TARGET_CPU_UTILIZATION=60
TARGET_MEMORY_UTILIZATION=70

# Rolling Update Strategy
MAX_SURGE=2
MAX_UNAVAILABLE=1

# ==============================================
# üåê CDN & ASSETS
# ==============================================
CDN_URL=https://cdn.myapp.com
ASSETS_URL=https://assets.myapp.com
PUBLIC_URL=https://myapp.com

# ==============================================
# üîí SSL/TLS
# ==============================================
SSL_ENABLED=true
FORCE_HTTPS=true
SSL_CERT_PATH=/etc/ssl/certs/production.crt
SSL_KEY_PATH=/etc/ssl/private/production.key
SSL_CA_PATH=/etc/ssl/certs/ca-bundle.crt

# ==============================================
# üìä BACKUP & DISASTER RECOVERY
# ==============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=myapp-production-backups
BACKUP_ENCRYPTION_ENABLED=true

# Point-in-Time Recovery
PITR_ENABLED=true
PITR_RETENTION_DAYS=7

# ==============================================
# üö® ALERTING & INCIDENT MANAGEMENT
# ==============================================
# PagerDuty
PAGERDUTY_API_KEY=${PROD_PAGERDUTY_API_KEY}
PAGERDUTY_SERVICE_ID=${PROD_PAGERDUTY_SERVICE_ID}

# Slack Alerts
SLACK_WEBHOOK_URL=${PROD_SLACK_WEBHOOK_URL}
SLACK_ALERT_CHANNEL=#production-alerts

# ==============================================
# üîê COMPLIANCE & AUDIT
# ==============================================
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365
COMPLIANCE_MODE=true
GDPR_ENABLED=true
HIPAA_ENABLED=false
PCI_DSS_ENABLED=true

# ==============================================
# üåê MULTI-REGION (if applicable)
# ==============================================
PRIMARY_REGION=us-east-1
FAILOVER_REGION=us-west-2
MULTI_REGION_ENABLED=false
